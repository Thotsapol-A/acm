<?xml version="1.0" encoding="UTF-8"?>
<!-- <odoo noupdate="1"> -->
<odoo>

    <!-- สัญญาเช่าที่ดินเพื่อทำประโยชน์ -->
    <record id="agreement_section_1" model="agreement.section">
        <field name="name">ย่อหน้าที่ 1</field>
        <field name="sequence">10</field>
        <field name="agreement_id" ref="acm_odoo_lite.agreement_template_1"/>
        <field name="content" type="html">
            <p style="text-align: center; text-indent: 0px;">
                <font style="font-size: 28px;">
                    <b>สัญญาเช่าที่ดินเพื่อทำประโยชน์</b>
                </font>
            </p>
            <p style="text-align: right; text-indent: 0px;">
                เลขที่ ${object.agreement_id.code or '&#160;&#160;&#160;'}
            </p>
            <p style="text-indent: 48px;">สัญญานี้ทำขึ้น ณ ${object.agreement_id.lessor_id.name or '&#160;&#160;&#160;'}
            เมื่อวันที่ ${object.agreement_id.date_contract and '%s %s %s' % (object.agreement_id.date_contract.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.date_contract.strftime('%m')), (object.agreement_id.date_contract + relativedelta(years=543)).strftime('%Y')) or '&#160;'}
            ระหว่าง
            </p>
            <p style="text-indent: 48px;">
                ${object.agreement_id.lessor_id.name or '&#160;&#160;&#160;'} ซึ่งจดทะเบียนเป็นนิติบุคคลเลขที่ ${object.agreement_id.lessor_id.vat or '&#160;&#160;&#160;'} มีสำนักงานตั้งอยู่เลขที่ ${object.agreement_id.lessor_id.street or '&#160;&#160;&#160;'} ${object.agreement_id.lessor_id.street2 or '&#160;&#160;&#160;'} ${object.agreement_id.lessor_id.zip or '&#160;&#160;&#160;'} ซึ่งต่อไปนี้ในสัญญานี้เรียกว่า "ผู้ให้เช่า" ฝ่ายหนึ่ง กับ
            </p>
            <p style="text-indent: 48px;">
                <span>${object.agreement_id.partner_id.name or '&#160;&#160;&#160;'} </span>
                <span>${object.agreement_id.partner_id.company_type == 'company' and 'ซึ่งจดทะเบียนเป็นนิติบุคคลเลขที่' or 'เลขประจำตัวประชาชน'} ${object.agreement_id.partner_id.vat or '&#160;&#160;&#160;'} </span>
                <span>${object.agreement_id.partner_id.company_type == 'company' and 'มีสำนักงานใหญ่อยู่ที่' or 'บ้านเลขที่'} ${object.agreement_id.partner_id.street or '&#160;&#160;&#160;'} ${object.agreement_id.partner_id.street2 or '&#160;&#160;&#160;'} ${object.agreement_id.partner_id.zip or '&#160;&#160;&#160;'} </span>
                <span>ซึ่งต่อไปนี้ในสัญญานี้เรียกว่า "ผู้เช่า" อีกฝ่ายหนึ่ง</span>
                <br/>
            </p>
        </field>
    </record>

    <record id="agreement_section_2" model="agreement.section">
        <field name="name">ย่อหน้าที่ 2</field>
        <field name="sequence">20</field>
        <field name="agreement_id" ref="acm_odoo_lite.agreement_template_1"/>
        <field name="content" type="html">
            <p style="text-indent: 48px;">
                คู่สัญญาทั้งสองฝ่ายได้ตกลงทำสัญญากัน มีข้อความดังต่อไปนี้
            </p>
        </field>
    </record>

    <record id="agreement_section_3" model="agreement.section">
        <field name="name">ย่อหน้าที่ 3</field>
        <field name="sequence">30</field>
        <field name="agreement_id" ref="acm_odoo_lite.agreement_template_1"/>
        <field name="content" type="html">
            <p>สัญญานี้ทำขึ้นไว้สองฉบับข้อความตรงกัน คู่สัญญาได้ตรวจและเห็นว่าถูกต้องแล้ว จึงได้ลงลายมือชื่อไว้เป็นสำคัญต่อหน้าพยาน และคู่สัญญาแต่ละฝ่ายต่างยึดถือกันไว้ฝ่ายละฉบับ</p>
            <br/>
            <br/>
            <div style="page-break-inside: avoid !important;">
                <div class="row justify-content-center">
                    <div class="col-6" style="text-align:center;text-indent:0px;">ลงชื่อ.....................................................ผู้ให้เช่า<br/>( ${object.agreement_id.lessor_id and object.agreement_id.lessor_id.name or '.....................................................'} )
                    </div>
                    <div class="col-6" style="text-align:center;text-indent:0px;">ลงชื่อ.....................................................ผู้เช่า<br/>( ${object.agreement_id.partner_id and object.agreement_id.partner_id.name or '.....................................................'} )
                    </div>
                </div>
                <br/>
                <br/>
                <div class="row justify-content-center">
                    <div class="col-6" style="text-align:center;text-indent:0px;">ลงชื่อ.....................................................พยาน<br/>( ${object.agreement_id.lessor_witness and object.agreement_id.lessor_witness or '.....................................................'} )
                    </div>
                    <div class="col-6" style="text-align:center;text-indent:0px;">ลงชื่อ.....................................................พยาน<br/>( ${object.agreement_id.partner_witness and object.agreement_id.partner_witness or '.....................................................'} )
                    </div>
                </div>
            </div>
        </field>
    </record>

    <record id="agreement_section_4" model="agreement.section">
        <field name="name">เอกสารแนบท้ายสัญญาเงื่อนไขการเช่า สัญญาเช่าที่ดินเพื่อทำประโยชน์</field>
        <field name="sequence">40</field>
        <field name="agreement_id" ref="acm_odoo_lite.agreement_template_1"/>
        <field name="content" type="html">
            <table style="width: 100%;page-break-before: always;text-indent: 0px;">
                <thead>
                    <tr>
                        <th colspan="3" style="text-align:center;">
                            เอกสารแนบท้ายสัญญารายละเอียดและเงื่อนไขการเช่า<br/>${object.agreement_id.lessor_id.name or '&#160;&#160;&#160;'} หมายเลข ${object.agreement_id.code or '&#160;&#160;&#160;'}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;width: 5px;"><b>1.</b></td>
                        <td style="border : 1px solid black; padding: 5px;width: 300px;"><b>ชื่อผู้เช่า (นิติบุคคล)</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.partner_id.company_type == 'company' and object.agreement_id.partner_id.name or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>เลขทะเบียนนิติบุคคล</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.partner_id.company_type == 'company' and object.agreement_id.partner_id.vat or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>2.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>ชื่อผู้เช่า (บุคคลธรรมดา)</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.partner_id.company_type == 'person' and object.agreement_id.partner_id.name or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>เลขประจำตัวประชาชน</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.partner_id.company_type == 'person' and object.agreement_id.partner_id.vat or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>3.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>ที่อยู่</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${(object.agreement_id.partner_id.street or object.agreement_id.partner_id.street2 or object.agreement_id.partner_id.zip) and '%s %s %s' % (object.agreement_id.partner_id.street or '', object.agreement_id.partner_id.street2 or '', object.agreement_id.partner_id.zip or '') or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>4.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>เบอร์ติดต่อ</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.partner_id.phone or object.agreement_id.partner_id.mobile or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>5.</b></td>
                        <td colspan="2" style="border : 1px solid black; padding: 5px;"><b>ประเภทการใช้ประโยชน์</b></td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- ชื่อกิจการ</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.business_name or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- ลักษณะการใช้ประโยชน์</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.goods_category_id.name or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- รายละเอียดการใช้ประโยชน์</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.goods_type or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>6.</b></td>
                        <td colspan="2" style="border : 1px solid black; padding: 5px;"><b>ทรัพย์สินที่เช่า</b></td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- ที่ดินที่เช่า</b><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;(หากมีมากกว่า 1 โฉนด ควรระบุทุกโฉนด)</td>
                        <td style="border : 1px solid black; padding: 5px;">
% for line in object.agreement_id.filter_lines(value_type='rent'):
    ${loop.index}. โฉนดที่ดินเลขที่ ${line.product_id.title_dead_no or '-'} เลขที่ดิน ${line.product_id.parcel_no or '-'} เล่ม ${line.product_id.vol or '-'} หน้า ${line.product_id.page or '-'} ตำบล ${line.product_id.sub_distinct_name or '-'} อำเภอ ${line.product_id.distinct or '-'} จังหวัด ${line.product_id.province or '-'}<br/>
% endfor
                        </td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- เนื้อที่ที่ดินที่เช่า</b> (ระบุรวม)</td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.get_rental_product_area() or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>7.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>ระยะเวลาการเช่า</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.get_rental_period(object.agreement_id.start_date, object.agreement_id.end_date) or '-'} (วันที่ ${object.agreement_id.start_date and '%s %s %s' % (object.agreement_id.start_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.start_date.strftime('%m')), (object.agreement_id.start_date + relativedelta(years=543)).strftime('%Y')) or '-'} ถึงวันที่ ${object.agreement_id.end_date and '%s %s %s' % (object.agreement_id.end_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.end_date.strftime('%m')), (object.agreement_id.end_date + relativedelta(years=543)).strftime('%Y')) or '-'})</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>8.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>วันส่งมอบทรัพย์สินที่เช่า</b></td>
                        <td style="border : 1px solid black; padding: 5px;">วันที่ ${object.agreement_id.rental_area_delivery_date and '%s %s %s' % (object.agreement_id.rental_area_delivery_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.rental_area_delivery_date.strftime('%m')), (object.agreement_id.rental_area_delivery_date + relativedelta(years=543)).strftime('%Y')) or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>9.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>ระยะเวลาปลอดค่าเช่า</b></td>
                        <td style="border : 1px solid black; padding: 5px;">วันที่ ${object.agreement_id.rental_free_start_date and '%s %s %s' % (object.agreement_id.rental_free_start_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.rental_free_start_date.strftime('%m')), (object.agreement_id.rental_free_start_date + relativedelta(years=543)).strftime('%Y')) or '-'} ถึงวันที่ ${object.agreement_id.rental_free_end_date and '%s %s %s' % (object.agreement_id.rental_free_end_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.rental_free_end_date.strftime('%m')), (object.agreement_id.rental_free_end_date + relativedelta(years=543)).strftime('%Y')) or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>10.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>วันชำระค่าเช่า</b></td>
                        <td style="border : 1px solid black; padding: 5px;">
% if not object.agreement_id.is_payment_installment:
    ชำระภายในวันที่ ${object.agreement_id.payment_due_date and '%s %s %s' % (object.agreement_id.payment_due_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.payment_due_date.strftime('%m')), (object.agreement_id.payment_due_date + relativedelta(years=543)).strftime('%Y')) or '-'}
% endif
% if object.agreement_id.is_payment_installment:
    % for line in object.agreement_id.payment_installment_ids:
        งวดที่ ${line.installment or '-'} ชำระภายในวันที่ ${line.payment_due_date and '%s %s %s' % (line.payment_due_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(line.payment_due_date.strftime('%m')), (line.payment_due_date + relativedelta(years=543)).strftime('%Y')) or '-'}<br/>
    % endfor
% endif
                        </td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>11.</b></td>
                        <td colspan="2" style="border : 1px solid black; padding: 5px;"><b>ค่าตอบแทน/ค่าเช่า</b></td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- ค่าตอบแทนการให้เช่า</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.filter_lines(value_type='lump_sum_rent') and '{0:,.2f}'.format(sum(object.agreement_id.filter_lines(value_type='lump_sum_rent').mapped('lst_price'))) + ' บาท' or ' - บาท'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- ค่าเช่า${object.agreement_id.trans_recurring(object.agreement_id.recurring_rule_type)}</b><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;จำนวนเงินรวม ${'{0:,.2f}'.format(sum(object.agreement_id.filter_lines(value_type='rent').mapped('lst_price')))} บาท</td>
                        <td style="border : 1px solid black; padding: 5px;">
    % for line in object.agreement_id.filter_lines(value_type='rent'):
        % if line.agreement_id.recurring_rule_type == 'daily':
            ${loop.index}. โฉนดที่ดินเลขที่ ${line.product_id.title_dead_no or '-'} ค่าเช่ารายวัน วันละ ${'{0:,.2f}'.format(line.lst_price)} บาท <br/>
        % endif
        % if line.agreement_id.recurring_rule_type == 'monthly':
            ${loop.index}. โฉนดที่ดินเลขที่ ${line.product_id.title_dead_no or '-'} ค่าเช่ารายเดือน เดือนละ ${'{0:,.2f}'.format(line.lst_price)} บาท<br/>
        % endif
        % if line.agreement_id.recurring_rule_type == 'yearly':
            ${loop.index}. โฉนดที่ดินเลขที่ ${line.product_id.title_dead_no or '-'} ค่าเช่ารายปี ปีละ ${'{0:,.2f}'.format(line.lst_price)} บาท<br/>
        % endif
    % endfor
                        </td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>12.</b></td>
                        <td colspan="2" style="border : 1px solid black; padding: 5px;"><b>เงินประกันการปฏิบัติตามสัญญา</b></td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- เงินประกันการปฏิบัติตามสัญญา</b></td>
                        <td style="border : 1px solid black; padding: 5px;">
${object.agreement_id.filter_lines(value_type='security_deposit') and '{0:,.2f}'.format(sum(object.agreement_id.filter_lines(value_type='security_deposit').mapped('lst_price'))) or '-'} บาท
                        </td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>13.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>เงื่อนไขการเช่า</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><span style="white-space: pre;">${object.agreement_id.special_terms or '-'}</span></td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="3" style="text-align:center;">
                            <br/>
                            <br/>
                            <div style="display: inline-block;margin-right: 40px;">
                                ลงชื่อ.....................................................ผู้ให้เช่า<br/>( ${object.agreement_id.lessor_id and object.agreement_id.lessor_id.name or '.....................................................'} )
                            </div>
                            <div style="display: inline-block;margin-left: 40px;">
                                ลงชื่อ.....................................................ผู้เช่า<br/>( ${object.agreement_id.partner_id and  object.agreement_id.partner_id.name or '.....................................................'} )
                            </div>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </field>
    </record>

    <!-- สัญญาเช่าที่ดินและสิ่งปลูกสร้าง -->
    <record id="agreement_section_building_1" model="agreement.section">
        <field name="name">ย่อหน้าที่ 1</field>
        <field name="sequence">10</field>
        <field name="agreement_id" ref="acm_odoo_lite.agreement_template_2"/>
        <field name="content" type="html">
            <p style="text-align: center; text-indent: 0px;">
                <font style="font-size: 28px;">
                    <b>สัญญาเช่าที่ดินและสิ่งปลูกสร้าง</b>
                </font>
            </p>
            <p style="text-align: right; text-indent: 0px;">
                เลขที่ ${object.agreement_id.code or '&#160;&#160;&#160;'}
            </p>
            <p style="text-indent: 48px;">สัญญานี้ทำขึ้น ณ ${object.agreement_id.lessor_id.name or '&#160;&#160;&#160;'}
            เมื่อวันที่ ${object.agreement_id.date_contract and '%s %s %s' % (object.agreement_id.date_contract.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.date_contract.strftime('%m')), (object.agreement_id.date_contract + relativedelta(years=543)).strftime('%Y')) or '&#160;&#160;&#160;'}
            ระหว่าง
            </p>
            <p style="text-indent: 48px;">
                ${object.agreement_id.lessor_id.name or '&#160;&#160;&#160;'} ซึ่งจดทะเบียนเป็นนิติบุคคลเลขที่ ${object.agreement_id.lessor_id.vat or '&#160;&#160;&#160;'} มีสำนักงานตั้งอยู่เลขที่ ${object.agreement_id.lessor_id.street or '&#160;&#160;&#160;'} ${object.agreement_id.lessor_id.street2 or '&#160;&#160;&#160;'} ${object.agreement_id.lessor_id.zip or '&#160;&#160;&#160;'} ซึ่งต่อไปนี้ในสัญญานี้เรียกว่า "ผู้ให้เช่า" ฝ่ายหนึ่ง กับ
            </p>
            <p style="text-indent: 48px;">
                <span>${object.agreement_id.partner_id.name or '&#160;&#160;&#160;'} </span>
                <span>${object.agreement_id.partner_id.company_type == 'company' and 'ซึ่งจดทะเบียนเป็นนิติบุคคลเลขที่' or 'เลขประจำตัวประชาชน'} ${object.agreement_id.partner_id.vat or '&#160;&#160;&#160;'} </span>
                <span>${object.agreement_id.partner_id.company_type == 'company' and 'มีสำนักงานใหญ่อยู่ที่' or 'บ้านเลขที่'} ${object.agreement_id.partner_id.street or '&#160;&#160;&#160;'} ${object.agreement_id.partner_id.street2 or '&#160;&#160;&#160;'} ${object.agreement_id.partner_id.zip or '&#160;&#160;&#160;'} </span>
                <span>ซึ่งต่อไปนี้ในสัญญานี้เรียกว่า "ผู้เช่า" อีกฝ่ายหนึ่ง</span>
                <br/>
            </p>
        </field>
    </record>

    <record id="agreement_section_building_2" model="agreement.section">
        <field name="name">ย่อหน้าที่ 2</field>
        <field name="sequence">20</field>
        <field name="agreement_id" ref="acm_odoo_lite.agreement_template_2"/>
        <field name="content" type="html">
            <p style="text-indent: 48px;">
                คู่สัญญาทั้งสองฝ่ายได้ตกลงทำสัญญากัน มีข้อความดังต่อไปนี้
            </p>
        </field>
    </record>

    <record id="agreement_section_building_3" model="agreement.section">
        <field name="name">ย่อหน้าที่ 3</field>
        <field name="sequence">30</field>
        <field name="agreement_id" ref="acm_odoo_lite.agreement_template_2"/>
        <field name="content" type="html">
            <p>สัญญานี้ทำขึ้นไว้สองฉบับข้อความตรงกัน คู่สัญญาได้ตรวจและเห็นว่าถูกต้องแล้ว จึงได้ลงลายมือชื่อไว้เป็นสำคัญต่อหน้าพยาน และคู่สัญญาแต่ละฝ่ายต่างยึดถือกันไว้ฝ่ายละฉบับ</p>
            <br/>
            <br/>
            <div style="page-break-inside: avoid !important;">
                <div class="row justify-content-center">
                    <div class="col-6" style="text-align:center;text-indent:0px;">ลงชื่อ.....................................................ผู้ให้เช่า<br/>( ${object.agreement_id.lessor_id and object.agreement_id.lessor_id.name or '.....................................................'} )
                    </div>
                    <div class="col-6" style="text-align:center;text-indent:0px;">ลงชื่อ.....................................................ผู้เช่า<br/>( ${object.agreement_id.partner_id and object.agreement_id.partner_id.name or '.....................................................'} )
                    </div>
                </div>
                <br/>
                <br/>
                <div class="row justify-content-center">
                    <div class="col-6" style="text-align:center;text-indent:0px;">ลงชื่อ.....................................................พยาน<br/>( ${object.agreement_id.lessor_witness and object.agreement_id.lessor_witness or '.....................................................'} )
                    </div>
                    <div class="col-6" style="text-align:center;text-indent:0px;">ลงชื่อ.....................................................พยาน<br/>( ${object.agreement_id.partner_witness and object.agreement_id.partner_witness or '.....................................................'} )
                    </div>
                </div>
            </div>
        </field>
    </record>

    <record id="agreement_section_building_4" model="agreement.section">
        <field name="name">เอกสารแนบท้ายสัญญาเงื่อนไขการเช่า สัญญาเช่าที่ดินและสิ่งปลูกสร้าง</field>
        <field name="sequence">40</field>
        <field name="agreement_id" ref="acm_odoo_lite.agreement_template_2"/>
        <field name="content" type="html">
            <table style="width: 100%;page-break-before: always;text-indent: 0px;">
                <thead>
                    <tr>
                        <th colspan="3" style="text-align:center;">
                            เอกสารแนบท้ายสัญญารายละเอียดและเงื่อนไขการเช่า<br/>${object.agreement_id.lessor_id.name or '&#160;&#160;&#160;'} หมายเลข ${object.agreement_id.code or '&#160;&#160;&#160;'}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;width: 5px;"><b>1.</b></td>
                        <td style="border : 1px solid black; padding: 5px;width: 300px;"><b>ชื่อผู้เช่า (นิติบุคคล)</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.partner_id.company_type == 'company' and object.agreement_id.partner_id.name or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>เลขทะเบียนนิติบุคคล</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.partner_id.company_type == 'company' and object.agreement_id.partner_id.vat or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>2.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>ชื่อผู้เช่า (บุคคลธรรมดา)</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.partner_id.company_type == 'person' and object.agreement_id.partner_id.name or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>เลขประจำตัวประชาชน</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.partner_id.company_type == 'person' and object.agreement_id.partner_id.vat or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>3.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>ที่อยู่</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${(object.agreement_id.partner_id.street or object.agreement_id.partner_id.street2 or object.agreement_id.partner_id.zip) and '%s %s %s' % (object.agreement_id.partner_id.street or '', object.agreement_id.partner_id.street2 or '', object.agreement_id.partner_id.zip or '') or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>4.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>เบอร์ติดต่อ</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.partner_id.phone or object.agreement_id.partner_id.mobile or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>5.</b></td>
                        <td colspan="2" style="border : 1px solid black; padding: 5px;"><b>ประเภทการใช้ประโยชน์</b></td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- ชื่อกิจการ</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.business_name or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- ลักษณะการใช้ประโยชน์</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.goods_category_id.name or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- รายละเอียดการใช้ประโยชน์</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.goods_type or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>6.</b></td>
                        <td colspan="2" style="border : 1px solid black; padding: 5px;"><b>ทรัพย์สินที่เช่า</b></td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- ที่ดินที่เช่า</b><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;(หากมีมากกว่า 1 โฉนด ควรระบุทุกโฉนด)</td>
                        <td style="border : 1px solid black; padding: 5px;">
% for line in object.agreement_id.filter_lines(value_type='rent'):
    ${loop.index}. โฉนดที่ดินเลขที่ ${line.product_id.title_dead_no or '-'} พร้อมสิ่งปลูกสร้าง เลขที่ดิน ${line.product_id.parcel_no or '-'} เล่ม ${line.product_id.vol or '-'} หน้า ${line.product_id.page or '-'} ตำบล ${line.product_id.sub_distinct_name or '-'} อำเภอ ${line.product_id.distinct or '-'} จังหวัด ${line.product_id.province or '-'}<br/>
% endfor
                        </td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- เนื้อที่ที่ดินที่เช่า</b> (ระบุรวม)</td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.get_rental_product_area() or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- เนื้อที่สิ่งปลูกสร้าง</b> (ระบุรวม)</td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.get_rental_building_area() or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>7.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>ระยะเวลาการเช่า</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.get_rental_period(object.agreement_id.start_date, object.agreement_id.end_date) or '-'} (วันที่ ${object.agreement_id.start_date and '%s %s %s' % (object.agreement_id.start_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.start_date.strftime('%m')), (object.agreement_id.start_date + relativedelta(years=543)).strftime('%Y')) or '-'} ถึงวันที่ ${object.agreement_id.end_date and '%s %s %s' % (object.agreement_id.end_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.end_date.strftime('%m')), (object.agreement_id.end_date + relativedelta(years=543)).strftime('%Y')) or '-'})</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>8.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>วันส่งมอบทรัพย์สินที่เช่า</b></td>
                        <td style="border : 1px solid black; padding: 5px;">วันที่ ${object.agreement_id.rental_area_delivery_date and '%s %s %s' % (object.agreement_id.rental_area_delivery_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.rental_area_delivery_date.strftime('%m')), (object.agreement_id.rental_area_delivery_date + relativedelta(years=543)).strftime('%Y')) or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>9.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>ระยะเวลาปลอดค่าเช่า</b></td>
                        <td style="border : 1px solid black; padding: 5px;">วันที่ ${object.agreement_id.rental_free_start_date and '%s %s %s' % (object.agreement_id.rental_free_start_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.rental_free_start_date.strftime('%m')), (object.agreement_id.rental_free_start_date + relativedelta(years=543)).strftime('%Y')) or '-'} ถึงวันที่ ${object.agreement_id.rental_free_end_date and '%s %s %s' % (object.agreement_id.rental_free_end_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.rental_free_end_date.strftime('%m')), (object.agreement_id.rental_free_end_date + relativedelta(years=543)).strftime('%Y')) or '-'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>10.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>วันชำระค่าเช่า</b></td>
                        <td style="border : 1px solid black; padding: 5px;">
% if not object.agreement_id.is_payment_installment:
    ชำระภายในวันที่ ${object.agreement_id.payment_due_date and '%s %s %s' % (object.agreement_id.payment_due_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(object.agreement_id.payment_due_date.strftime('%m')), (object.agreement_id.payment_due_date + relativedelta(years=543)).strftime('%Y')) or '-'}
% endif
% if object.agreement_id.is_payment_installment:
    % for line in object.agreement_id.payment_installment_ids:
        งวดที่ ${line.installment or '-'} ชำระภายในวันที่ ${line.payment_due_date and '%s %s %s' % (line.payment_due_date.strftime('%d').lstrip('0'), object.agreement_id.trans_months(line.payment_due_date.strftime('%m')), (line.payment_due_date + relativedelta(years=543)).strftime('%Y')) or '-'}<br/>
    % endfor
% endif
                        </td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>11.</b></td>
                        <td colspan="2" style="border : 1px solid black; padding: 5px;"><b>ค่าตอบแทน/ค่าเช่า</b></td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- ค่าตอบแทนการให้เช่า</b></td>
                        <td style="border : 1px solid black; padding: 5px;">${object.agreement_id.filter_lines(value_type='lump_sum_rent') and '{0:,.2f}'.format(sum(object.agreement_id.filter_lines(value_type='lump_sum_rent').mapped('lst_price'))) + ' บาท' or ' - บาท'}</td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- ค่าเช่า${object.agreement_id.trans_recurring(object.agreement_id.recurring_rule_type)}</b><br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;จำนวนเงินรวม ${'{0:,.2f}'.format(sum(object.agreement_id.filter_lines(value_type='rent').mapped('lst_price')))} บาท</td>
                        <td style="border : 1px solid black; padding: 5px;">
    % for line in object.agreement_id.filter_lines(value_type='rent'):
        % if line.agreement_id.recurring_rule_type == 'daily':
            ${loop.index}. โฉนดที่ดินเลขที่ ${line.product_id.title_dead_no or '-'} ค่าเช่ารายวัน วันละ ${'{0:,.2f}'.format(line.lst_price)} บาท <br/>
        % endif
        % if line.agreement_id.recurring_rule_type == 'monthly':
            ${loop.index}. โฉนดที่ดินเลขที่ ${line.product_id.title_dead_no or '-'} ค่าเช่ารายเดือน เดือนละ ${'{0:,.2f}'.format(line.lst_price)} บาท<br/>
        % endif
        % if line.agreement_id.recurring_rule_type == 'yearly':
            ${loop.index}. โฉนดที่ดินเลขที่ ${line.product_id.title_dead_no or '-'} ค่าเช่ารายปี ปีละ ${'{0:,.2f}'.format(line.lst_price)} บาท<br/>
        % endif
    % endfor
                        </td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>12.</b></td>
                        <td colspan="2" style="border : 1px solid black; padding: 5px;"><b>เงินประกันการปฏิบัติตามสัญญา</b></td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"></td>
                        <td style="border : 1px solid black; padding: 5px;">&#160;&#160;&#160;&#160;&#160;<b>- เงินประกันการปฏิบัติตามสัญญา</b></td>
                        <td style="border : 1px solid black; padding: 5px;">
${object.agreement_id.filter_lines(value_type='security_deposit') and '{0:,.2f}'.format(sum(object.agreement_id.filter_lines(value_type='security_deposit').mapped('lst_price'))) or '-'} บาท
                        </td>
                    </tr>
                    <tr>
                        <td style="border : 1px solid black; padding: 5px;"><b>13.</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><b>เงื่อนไขการเช่า</b></td>
                        <td style="border : 1px solid black; padding: 5px;"><span style="white-space: pre;">${object.agreement_id.special_terms or '-'}</span></td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="3" style="text-align:center;">
                            <br/>
                            <br/>
                            <div style="display: inline-block;margin-right: 40px;">
                                ลงชื่อ.....................................................ผู้ให้เช่า<br/>( ${object.agreement_id.lessor_id and object.agreement_id.lessor_id.name or '.....................................................'} )
                            </div>
                            <div style="display: inline-block;margin-left: 40px;">
                                ลงชื่อ.....................................................ผู้เช่า<br/>( ${object.agreement_id.partner_id and  object.agreement_id.partner_id.name or '.....................................................'} )
                            </div>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </field>
    </record>
</odoo>
